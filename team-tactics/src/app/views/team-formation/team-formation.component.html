<div class="container warn-background-color">

  <div class="column accent-background-color">

    <div class="row-space-between-center">

      <button mat-raised-button color="primary" (click)="openAssignCaptain()">Set captain</button>

      <button mat-raised-button color="primary" (click)="lockRoster()">Lock roster</button>

    </div>

    <table mat-table [dataSource]="userRoster" class="mat-elevation-z8 topMargin">

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef class="">Name</th>
        <td mat-cell *matCellDef="let player">{{ player.firstName }} {{ player.lastName }}</td>
      </ng-container>

      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef>Position</th>
        <td mat-cell *matCellDef="let player">{{ player.positionName }}</td>
      </ng-container>

      <ng-container matColumnDef="club">
        <th mat-header-cell *matHeaderCellDef>Club</th>
        <td mat-cell *matCellDef="let player">{{ player.clubName }}</td>
      </ng-container>

      <ng-container matColumnDef="captain">
        <th mat-header-cell *matHeaderCellDef>Captain</th>
        <td mat-cell *matCellDef="let player">
          <mat-slide-toggle disabled [checked]="player.captain"></mat-slide-toggle>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>

  </div>

  <div class="column accent-background-color">

    <div class="formation-container">

      <button mat-raised-button color="primary" (click)="openAssignFormation()">Set formation</button>

      <div class="pitch">

        <div class="goal-area-top top-goal"></div>
        <div class="goal-area-bottom bottom-goal"></div>
        <div class="penalty-area-top top-penalty"></div>
        <div class="penalty-area-bottom bottom-penalty"></div>

        <div class="players">

          <div class="formation">

            <div [ngClass]="team.locked ? 'player disabled' : 'player'"
              *ngFor="let a of getPlayersByPositionId(1); let i = index;"
              (click)="openAssignPlayer(a.positionId, a.positionName, i, a.id)">

              <img src="assets/player.svg">

              <div class="shirt">

                <div class="player-info">

                  <div class="name">{{a.firstName}}</div>
                  <div class="name">{{a.lastName}}</div>
                  <div class="name">{{a.id > 0 ? "(" + a.clubName + ")" : a.clubName}}</div>

                </div>

              </div>

            </div>

          </div>

          <div class="formation">

            <div [ngClass]="team.locked ? 'player disabled' : 'player'"
              *ngFor="let m of getPlayersByPositionId(2); let i = index;"
              (click)="openAssignPlayer(m.positionId, m.positionName, i, m.id)">

              <img src="assets/player.svg">

              <div class="shirt">

                <div class="player-info">

                  <div class="name">{{m.firstName}}</div>
                  <div class="name">{{m.lastName}}</div>
                  <div class="name">{{m.id > 0 ? "(" + m.clubName + ")" : m.clubName}}</div>

                </div>

              </div>

            </div>

          </div>

          <div class="formation">

            <div [ngClass]="team.locked ? 'player disabled' : 'player'"
              *ngFor="let d of getPlayersByPositionId(3); let i = index;"
              (click)="openAssignPlayer(d.positionId, d.positionName, i, d.id)">

              <img src="assets/player.svg">

              <div class="shirt">

                <div class="player-info">

                  <div class="name">{{d.firstName}}</div>
                  <div class="name">{{d.lastName}}</div>
                  <div class="name">{{d.id > 0 ? "(" + d.clubName + ")" : d.clubName}}</div>

                </div>

              </div>

            </div>

          </div>

          <div class="formation">

            <div [ngClass]="team.locked ? 'player disabled' : 'player'"
              (click)="openAssignPlayer(getPlayersByPositionId(4)[0].positionId, getPlayersByPositionId(4)[0].positionName, 0, getPlayersByPositionId(4)[0].id)">

              <img src="assets/player.svg">

              <div class="shirt">

                <div class="player-info">

                  <div class="name">{{getPlayersByPositionId(4)[0].firstName}}</div>
                  <div class="name">{{getPlayersByPositionId(4)[0].lastName}}</div>
                  <div class="name">{{getPlayersByPositionId(4)[0].id > 0 ? "(" +
                    getPlayersByPositionId(4)[0].clubName + ")" :
                    getPlayersByPositionId(4)[0].clubName}}</div>

                </div>

              </div>

            </div>

          </div>

        </div>

      </div>

    </div>

  </div>

</div>
